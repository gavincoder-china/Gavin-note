{"remainingRequest":"/Users/gavincoder/mycode/github/Gavin-note/vuepress/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/gavincoder/mycode/github/Gavin-note/vuepress/node_modules/@vuepress/core/lib/client/root-mixins/updateMeta.js","dependencies":[{"path":"/Users/gavincoder/mycode/github/Gavin-note/vuepress/node_modules/@vuepress/core/lib/client/root-mixins/updateMeta.js","mtime":1566811178774},{"path":"/Users/gavincoder/mycode/github/Gavin-note/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1566811178782},{"path":"/Users/gavincoder/mycode/github/Gavin-note/vuepress/node_modules/babel-loader/lib/index.js","mtime":1566811178784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5Lm1hcCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL2dhdmluY29kZXIvbXljb2RlL2dpdGh1Yi9HYXZpbi1ub3RlL3Z1ZXByZXNzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc2V0IjsKZXhwb3J0IGRlZmF1bHQgewogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kc3NyQ29udGV4dCkgewogICAgICB0aGlzLiRzc3JDb250ZXh0LnRpdGxlID0gdGhpcy4kdGl0bGU7CiAgICAgIHRoaXMuJHNzckNvbnRleHQubGFuZyA9IHRoaXMuJGxhbmc7CiAgICAgIHRoaXMuJHNzckNvbnRleHQuZGVzY3JpcHRpb24gPSB0aGlzLiRwYWdlLmRlc2NyaXB0aW9uIHx8IHRoaXMuJGRlc2NyaXB0aW9uOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIHVwZGF0ZSB0aXRsZSAvIG1ldGEgdGFncwogICAgdGhpcy5jdXJyZW50TWV0YVRhZ3MgPSBuZXcgU2V0KCk7CiAgICB0aGlzLnVwZGF0ZU1ldGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZU1ldGE6IGZ1bmN0aW9uIHVwZGF0ZU1ldGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMuJHRpdGxlOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyA9IHRoaXMuJGxhbmc7CiAgICAgIHZhciB1c2VyTWV0YSA9IHRoaXMuJHBhZ2UuZnJvbnRtYXR0ZXIubWV0YSB8fCBbXTsKICAgICAgdmFyIG1ldGEgPSB1c2VyTWV0YS5zbGljZSgwKTsKICAgICAgdmFyIHVzZUdsb2JhbERlc2NyaXB0aW9uID0gdXNlck1ldGEuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgcmV0dXJuIG0ubmFtZSA9PT0gJ2Rlc2NyaXB0aW9uJzsKICAgICAgfSkubGVuZ3RoID09PSAwOyAvLyAjNjY1IEF2b2lkIGR1cGxpY2F0ZSBkZXNjcmlwdGlvbiBtZXRhIGF0IHJ1bnRpbWUuCgogICAgICBpZiAodXNlR2xvYmFsRGVzY3JpcHRpb24pIHsKICAgICAgICBtZXRhLnB1c2goewogICAgICAgICAgbmFtZTogJ2Rlc2NyaXB0aW9uJywKICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuJGRlc2NyaXB0aW9uCiAgICAgICAgfSk7CiAgICAgIH0gLy8gSW5jbHVkaW5nIGRlc2NyaXB0aW9uIG1ldGEgY29taW5nIGZyb20gU1NSLgoKCiAgICAgIHZhciBkZXNjcmlwdGlvbk1ldGFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbWV0YVtuYW1lPSJkZXNjcmlwdGlvbiJdJyk7CgogICAgICBpZiAoZGVzY3JpcHRpb25NZXRhcy5sZW5ndGgpIHsKICAgICAgICBkZXNjcmlwdGlvbk1ldGFzLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5jdXJyZW50TWV0YVRhZ3MuYWRkKG0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmN1cnJlbnRNZXRhVGFncyA9IG5ldyBTZXQodXBkYXRlTWV0YVRhZ3MobWV0YSwgdGhpcy5jdXJyZW50TWV0YVRhZ3MpKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAkcGFnZTogZnVuY3Rpb24gJHBhZ2UoKSB7CiAgICAgIHRoaXMudXBkYXRlTWV0YSgpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHVwZGF0ZU1ldGFUYWdzKG51bGwsIHRoaXMuY3VycmVudE1ldGFUYWdzKTsKICB9Cn07CgpmdW5jdGlvbiB1cGRhdGVNZXRhVGFncyhtZXRhLCBjdXJyZW50KSB7CiAgaWYgKGN1cnJlbnQpIHsKICAgIF90b0NvbnN1bWFibGVBcnJheShjdXJyZW50KS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7CiAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoYyk7CiAgICB9KTsKICB9CgogIGlmIChtZXRhKSB7CiAgICByZXR1cm4gbWV0YS5tYXAoZnVuY3Rpb24gKG0pIHsKICAgICAgdmFyIHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21ldGEnKTsKICAgICAgT2JqZWN0LmtleXMobSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgdGFnLnNldEF0dHJpYnV0ZShrZXksIG1ba2V5XSk7CiAgICAgIH0pOwogICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRhZyk7CiAgICAgIHJldHVybiB0YWc7CiAgICB9KTsKICB9Cn0="},{"version":3,"sources":["/Users/gavincoder/mycode/github/Gavin-note/vuepress/node_modules/@vuepress/core/lib/client/root-mixins/updateMeta.js"],"names":["created","$ssrContext","title","$title","lang","$lang","description","$page","$description","mounted","currentMetaTags","Set","updateMeta","methods","document","documentElement","userMeta","frontmatter","meta","slice","useGlobalDescription","filter","m","name","length","push","content","descriptionMetas","querySelectorAll","forEach","add","updateMetaTags","watch","beforeDestroy","current","c","head","removeChild","map","tag","createElement","Object","keys","key","setAttribute","appendChild"],"mappings":";;;;;;;;;AAAA,eAAe;AACbA,EAAAA,OADa,qBACF;AACT,QAAI,KAAKC,WAAT,EAAsB;AACpB,WAAKA,WAAL,CAAiBC,KAAjB,GAAyB,KAAKC,MAA9B;AACA,WAAKF,WAAL,CAAiBG,IAAjB,GAAwB,KAAKC,KAA7B;AACA,WAAKJ,WAAL,CAAiBK,WAAjB,GAA+B,KAAKC,KAAL,CAAWD,WAAX,IAA0B,KAAKE,YAA9D;AACD;AACF,GAPY;AASbC,EAAAA,OATa,qBASF;AACT;AACA,SAAKC,eAAL,GAAuB,IAAIC,GAAJ,EAAvB;AACA,SAAKC,UAAL;AACD,GAbY;AAebC,EAAAA,OAAO,EAAE;AACPD,IAAAA,UADO,wBACO;AAAA;;AACZE,MAAAA,QAAQ,CAACZ,KAAT,GAAiB,KAAKC,MAAtB;AACAW,MAAAA,QAAQ,CAACC,eAAT,CAAyBX,IAAzB,GAAgC,KAAKC,KAArC;AACA,UAAMW,QAAQ,GAAG,KAAKT,KAAL,CAAWU,WAAX,CAAuBC,IAAvB,IAA+B,EAAhD;AACA,UAAMA,IAAI,GAAGF,QAAQ,CAACG,KAAT,CAAe,CAAf,CAAb;AACA,UAAMC,oBAAoB,GAAGJ,QAAQ,CAACK,MAAT,CAAgB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,IAAF,KAAW,aAAf;AAAA,OAAjB,EAA+CC,MAA/C,KAA0D,CAAvF,CALY,CAOZ;;AACA,UAAIJ,oBAAJ,EAA0B;AACxBF,QAAAA,IAAI,CAACO,IAAL,CAAU;AAAEF,UAAAA,IAAI,EAAE,aAAR;AAAuBG,UAAAA,OAAO,EAAE,KAAKlB;AAArC,SAAV;AACD,OAVW,CAYZ;;;AACA,UAAMmB,gBAAgB,GAAGb,QAAQ,CAACc,gBAAT,CAA0B,0BAA1B,CAAzB;;AACA,UAAID,gBAAgB,CAACH,MAArB,EAA6B;AAC3BG,QAAAA,gBAAgB,CAACE,OAAjB,CAAyB,UAAAP,CAAC;AAAA,iBAAI,KAAI,CAACZ,eAAL,CAAqBoB,GAArB,CAAyBR,CAAzB,CAAJ;AAAA,SAA1B;AACD;;AAED,WAAKZ,eAAL,GAAuB,IAAIC,GAAJ,CAAQoB,cAAc,CAACb,IAAD,EAAO,KAAKR,eAAZ,CAAtB,CAAvB;AACD;AApBM,GAfI;AAsCbsB,EAAAA,KAAK,EAAE;AACLzB,IAAAA,KADK,mBACI;AACP,WAAKK,UAAL;AACD;AAHI,GAtCM;AA4CbqB,EAAAA,aA5Ca,2BA4CI;AACfF,IAAAA,cAAc,CAAC,IAAD,EAAO,KAAKrB,eAAZ,CAAd;AACD;AA9CY,CAAf;;AAiDA,SAASqB,cAAT,CAAyBb,IAAzB,EAA+BgB,OAA/B,EAAwC;AACtC,MAAIA,OAAJ,EAAa;AACX,uBAAIA,OAAJ,EAAaL,OAAb,CAAqB,UAAAM,CAAC,EAAI;AACxBrB,MAAAA,QAAQ,CAACsB,IAAT,CAAcC,WAAd,CAA0BF,CAA1B;AACD,KAFD;AAGD;;AACD,MAAIjB,IAAJ,EAAU;AACR,WAAOA,IAAI,CAACoB,GAAL,CAAS,UAAAhB,CAAC,EAAI;AACnB,UAAMiB,GAAG,GAAGzB,QAAQ,CAAC0B,aAAT,CAAuB,MAAvB,CAAZ;AACAC,MAAAA,MAAM,CAACC,IAAP,CAAYpB,CAAZ,EAAeO,OAAf,CAAuB,UAAAc,GAAG,EAAI;AAC5BJ,QAAAA,GAAG,CAACK,YAAJ,CAAiBD,GAAjB,EAAsBrB,CAAC,CAACqB,GAAD,CAAvB;AACD,OAFD;AAGA7B,MAAAA,QAAQ,CAACsB,IAAT,CAAcS,WAAd,CAA0BN,GAA1B;AACA,aAAOA,GAAP;AACD,KAPM,CAAP;AAQD;AACF","sourcesContent":["export default {\n  created () {\n    if (this.$ssrContext) {\n      this.$ssrContext.title = this.$title\n      this.$ssrContext.lang = this.$lang\n      this.$ssrContext.description = this.$page.description || this.$description\n    }\n  },\n\n  mounted () {\n    // update title / meta tags\n    this.currentMetaTags = new Set()\n    this.updateMeta()\n  },\n\n  methods: {\n    updateMeta () {\n      document.title = this.$title\n      document.documentElement.lang = this.$lang\n      const userMeta = this.$page.frontmatter.meta || []\n      const meta = userMeta.slice(0)\n      const useGlobalDescription = userMeta.filter(m => m.name === 'description').length === 0\n\n      // #665 Avoid duplicate description meta at runtime.\n      if (useGlobalDescription) {\n        meta.push({ name: 'description', content: this.$description })\n      }\n\n      // Including description meta coming from SSR.\n      const descriptionMetas = document.querySelectorAll('meta[name=\"description\"]')\n      if (descriptionMetas.length) {\n        descriptionMetas.forEach(m => this.currentMetaTags.add(m))\n      }\n\n      this.currentMetaTags = new Set(updateMetaTags(meta, this.currentMetaTags))\n    }\n  },\n\n  watch: {\n    $page () {\n      this.updateMeta()\n    }\n  },\n\n  beforeDestroy () {\n    updateMetaTags(null, this.currentMetaTags)\n  }\n}\n\nfunction updateMetaTags (meta, current) {\n  if (current) {\n    [...current].forEach(c => {\n      document.head.removeChild(c)\n    })\n  }\n  if (meta) {\n    return meta.map(m => {\n      const tag = document.createElement('meta')\n      Object.keys(m).forEach(key => {\n        tag.setAttribute(key, m[key])\n      })\n      document.head.appendChild(tag)\n      return tag\n    })\n  }\n}\n"]}]}